define("fb/pubsub",[],function(){var e={},t=-1,n={publish:function(t,n){return e[t]?(setTimeout(function(){var r=e[t],i=r?r.length:0;while(i--)r[i].func(t,n)},0),!0):!1},subscribe:function(n,r){e[n]||(e[n]=[]);var i=(++t).toString();return e[n].push({token:i,func:r}),i},unsubscribe:function(t,n){var r,i,s=function(){return t&&n&&typeof n=="function"?"topic_fn":typeof t=="string"?"token":!1}();if(s==="topic_fn"){if(e[t])for(r=0,i=e[t].length;r<i;r++)if(e[t][r].func===n)return e[t].splice(r,1),t}else if(s==="token")for(var o in e)if(e[o])for(r=0,i=e[o].length;r<i;r++)if(e[o][r].token===t)return e[o].splice(r,1),t;return!1}};return n});